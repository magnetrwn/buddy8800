<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>buddy8800: pty Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">buddy8800
   </div>
   <div id="projectbrief">An Altair 8800 S-100 emulator that can run CP/M through a serial PTY.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classpty.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classpty-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">pty Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents a pseudo-terminal interface.  
 <a href="classpty.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="unix__pty_8hpp_source.html">unix_pty.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a50aec75ef08fc8368e6a3668821309cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpty.html#a50aec75ef08fc8368e6a3668821309cb">open</a> ()</td></tr>
<tr class="memdesc:a50aec75ef08fc8368e6a3668821309cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the PTY interface.  <a href="classpty.html#a50aec75ef08fc8368e6a3668821309cb">More...</a><br /></td></tr>
<tr class="separator:a50aec75ef08fc8368e6a3668821309cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee682964bcc6906eab0cadbde4bc6fe"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpty.html#aaee682964bcc6906eab0cadbde4bc6fe">name</a> () const</td></tr>
<tr class="memdesc:aaee682964bcc6906eab0cadbde4bc6fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the name of the slave device.  <a href="classpty.html#aaee682964bcc6906eab0cadbde4bc6fe">More...</a><br /></td></tr>
<tr class="separator:aaee682964bcc6906eab0cadbde4bc6fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42411f2b12218401f748cbc94fe12062"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpty.html#a42411f2b12218401f748cbc94fe12062">send</a> (const char *data) const</td></tr>
<tr class="memdesc:a42411f2b12218401f748cbc94fe12062"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data to the PTY interface master side.  <a href="classpty.html#a42411f2b12218401f748cbc94fe12062">More...</a><br /></td></tr>
<tr class="separator:a42411f2b12218401f748cbc94fe12062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde0990ca2d8300af613c1bf15836ac6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpty.html#afde0990ca2d8300af613c1bf15836ac6">send</a> (const char *data, usize size) const</td></tr>
<tr class="memdesc:afde0990ca2d8300af613c1bf15836ac6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data to the PTY interface master side.  <a href="classpty.html#afde0990ca2d8300af613c1bf15836ac6">More...</a><br /></td></tr>
<tr class="separator:afde0990ca2d8300af613c1bf15836ac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae60caccd262899cddaa62ebeda9ca14d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpty.html#ae60caccd262899cddaa62ebeda9ca14d">send_break</a> () const</td></tr>
<tr class="memdesc:ae60caccd262899cddaa62ebeda9ca14d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a break signal to the PTY interface master side.  <a href="classpty.html#ae60caccd262899cddaa62ebeda9ca14d">More...</a><br /></td></tr>
<tr class="separator:ae60caccd262899cddaa62ebeda9ca14d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af46ce3f92e8dc2077afec7a54c6b85b0"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpty.html#af46ce3f92e8dc2077afec7a54c6b85b0">getch</a> () const</td></tr>
<tr class="memdesc:af46ce3f92e8dc2077afec7a54c6b85b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single byte from the PTY interface master side.  <a href="classpty.html#af46ce3f92e8dc2077afec7a54c6b85b0">More...</a><br /></td></tr>
<tr class="separator:af46ce3f92e8dc2077afec7a54c6b85b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9e7847a4ade52e8bea78e13f49c4c76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpty.html#ac9e7847a4ade52e8bea78e13f49c4c76">putch</a> (char c) const</td></tr>
<tr class="memdesc:ac9e7847a4ade52e8bea78e13f49c4c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a single byte to the PTY interface master side.  <a href="classpty.html#ac9e7847a4ade52e8bea78e13f49c4c76">More...</a><br /></td></tr>
<tr class="separator:ac9e7847a4ade52e8bea78e13f49c4c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad90a7e8c2e8a1b273b4f5859cae35c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpty.html#a9ad90a7e8c2e8a1b273b4f5859cae35c">poll</a> () const</td></tr>
<tr class="memdesc:a9ad90a7e8c2e8a1b273b4f5859cae35c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there is data available to be read from the PTY interface master side.  <a href="classpty.html#a9ad90a7e8c2e8a1b273b4f5859cae35c">More...</a><br /></td></tr>
<tr class="separator:a9ad90a7e8c2e8a1b273b4f5859cae35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22e150200a8581e9da66e309f9ee2ec6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpty.html#a22e150200a8581e9da66e309f9ee2ec6">recv</a> (char *data, usize max, char terminator='\r') const</td></tr>
<tr class="memdesc:a22e150200a8581e9da66e309f9ee2ec6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data from the PTY interface master side.  <a href="classpty.html#a22e150200a8581e9da66e309f9ee2ec6">More...</a><br /></td></tr>
<tr class="separator:a22e150200a8581e9da66e309f9ee2ec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acacb920c29edf75bc85388b4e347aa4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpty.html#acacb920c29edf75bc85388b4e347aa4e">setup</a> (u32 data_bits, pty_parity parity, u32 stop_bits)</td></tr>
<tr class="memdesc:acacb920c29edf75bc85388b4e347aa4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the PTY interface with custom configuration.  <a href="classpty.html#acacb920c29edf75bc85388b4e347aa4e">More...</a><br /></td></tr>
<tr class="separator:acacb920c29edf75bc85388b4e347aa4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a757f8fc7156ea5215922e9646b65daaa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpty.html#a757f8fc7156ea5215922e9646b65daaa">set_baud_rate</a> (u32 baud_rate)</td></tr>
<tr class="memdesc:a757f8fc7156ea5215922e9646b65daaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the baud rate of the PTY interface.  <a href="classpty.html#a757f8fc7156ea5215922e9646b65daaa">More...</a><br /></td></tr>
<tr class="separator:a757f8fc7156ea5215922e9646b65daaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a361a2ef0fc27c6c1f2aac8e05aa0f89c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpty.html#a361a2ef0fc27c6c1f2aac8e05aa0f89c">set_echo_received_back</a> (bool should)</td></tr>
<tr class="memdesc:a361a2ef0fc27c6c1f2aac8e05aa0f89c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether received data should be printed back to the PTY slave side.  <a href="classpty.html#a361a2ef0fc27c6c1f2aac8e05aa0f89c">More...</a><br /></td></tr>
<tr class="separator:a361a2ef0fc27c6c1f2aac8e05aa0f89c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d795020dcb52657c7828f952306e687"><td class="memItemLeft" align="right" valign="top"><a id="a0d795020dcb52657c7828f952306e687"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpty.html#a0d795020dcb52657c7828f952306e687">close</a> ()</td></tr>
<tr class="memdesc:a0d795020dcb52657c7828f952306e687"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the PTY interface and free the PTY master file descriptor. <br /></td></tr>
<tr class="separator:a0d795020dcb52657c7828f952306e687"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a pseudo-terminal interface. </p>
<p>This class handles a PTY interface and provides some convenience when interacting with it. After construction and by calling <a class="el" href="classpty.html#a50aec75ef08fc8368e6a3668821309cb" title="Open the PTY interface.">open()</a>, the PTY interface is opened and public methods from this class can be used to handle the master file descriptor side of the PTY. The slave side is supposed to be provided to the user or a process to interact with, thus the <a class="el" href="classpty.html#aaee682964bcc6906eab0cadbde4bc6fe" title="Retrieve the name of the slave device.">name()</a> method is available to retrieve the slave device name, but no further handling is done by this class.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>On breaking the application while running, if anything is connected to the slave fd, the PTY is never closed. </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af46ce3f92e8dc2077afec7a54c6b85b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af46ce3f92e8dc2077afec7a54c6b85b0">&#9670;&nbsp;</a></span>getch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char pty::getch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a single byte from the PTY interface master side. </p>
<dl class="section return"><dt>Returns</dt><dd>The byte read from the PTY interface. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">&lt;tt&gt;std::runtime_error&lt;/tt&gt;</td><td>if the PTY interface had an error.</td></tr>
  </table>
  </dd>
</dl>
<p>This method reads a single byte/char from the PTY interface master side. It uses the <code>read()</code> system call to read the byte from the master file descriptor, sent by the slave side.</p>
<dl class="section warning"><dt>Warning</dt><dd>This method will block until a byte is read. </dd></dl>

<p class="reference">References <a class="el" href="classpty.html#ac9e7847a4ade52e8bea78e13f49c4c76">putch()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classpty.html#a22e150200a8581e9da66e309f9ee2ec6">recv()</a>, and <a class="el" href="classserial__card.html#a2d9f292d7be1f9deebf49fa5d748c039">serial_card::refresh()</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpty_af46ce3f92e8dc2077afec7a54c6b85b0_cgraph.png" border="0" usemap="#aclasspty_af46ce3f92e8dc2077afec7a54c6b85b0_cgraph" alt=""/></div>
<map name="aclasspty_af46ce3f92e8dc2077afec7a54c6b85b0_cgraph" id="aclasspty_af46ce3f92e8dc2077afec7a54c6b85b0_cgraph">
<area shape="rect" title="Get a single byte from the PTY interface master side." alt="" coords="5,5,92,32"/>
<area shape="rect" href="classpty.html#ac9e7847a4ade52e8bea78e13f49c4c76" title="Send a single byte to the PTY interface master side." alt="" coords="140,5,227,32"/>
</map>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpty_af46ce3f92e8dc2077afec7a54c6b85b0_icgraph.png" border="0" usemap="#aclasspty_af46ce3f92e8dc2077afec7a54c6b85b0_icgraph" alt=""/></div>
<map name="aclasspty_af46ce3f92e8dc2077afec7a54c6b85b0_icgraph" id="aclasspty_af46ce3f92e8dc2077afec7a54c6b85b0_icgraph">
<area shape="rect" title="Get a single byte from the PTY interface master side." alt="" coords="200,31,287,57"/>
<area shape="rect" href="classpty.html#a22e150200a8581e9da66e309f9ee2ec6" title="Receive data from the PTY interface master side." alt="" coords="39,5,118,32"/>
<area shape="rect" href="classserial__card.html#a2d9f292d7be1f9deebf49fa5d748c039" title="Refresh the UART for data I/O." alt="" coords="5,56,152,83"/>
</map>
</div>

</div>
</div>
<a id="aaee682964bcc6906eab0cadbde4bc6fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaee682964bcc6906eab0cadbde4bc6fe">&#9670;&nbsp;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * pty::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the name of the slave device. </p>
<dl class="section return"><dt>Returns</dt><dd>A C-like string containing the name of the slave device.</dd></dl>
<p>This method returns the name of the slave device, such as <code>/dev/pts/3</code>. This name identifies the slave side PTY interface, to which a user or process can interface with. For example, you could run <code>screen /dev/pts/3</code> on your terminal to connect to the PTY slave side. </p>

<p class="reference">Referenced by <a class="el" href="classserial__card.html#a1f29b0bb8ad083bf74af151628b7acf3">serial_card::identify()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpty_aaee682964bcc6906eab0cadbde4bc6fe_icgraph.png" border="0" usemap="#aclasspty_aaee682964bcc6906eab0cadbde4bc6fe_icgraph" alt=""/></div>
<map name="aclasspty_aaee682964bcc6906eab0cadbde4bc6fe_icgraph" id="aclasspty_aaee682964bcc6906eab0cadbde4bc6fe_icgraph">
<area shape="rect" title="Retrieve the name of the slave device." alt="" coords="204,5,291,32"/>
<area shape="rect" href="classserial__card.html#a1f29b0bb8ad083bf74af151628b7acf3" title="Get information about the serial card." alt="" coords="5,5,156,32"/>
</map>
</div>

</div>
</div>
<a id="a50aec75ef08fc8368e6a3668821309cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50aec75ef08fc8368e6a3668821309cb">&#9670;&nbsp;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pty::open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open the PTY interface. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">&lt;tt&gt;std::runtime_error&lt;/tt&gt;</td><td>if the PTY interface could not be opened.</td></tr>
  </table>
  </dd>
</dl>
<p>Use this method when first starting the PTY interface. It will open the master file descriptor and setup various configuration flags for a bit more realism in emulating an Altair 8800 serial interface.</p>
<dl class="section note"><dt>Note</dt><dd>The default setup configuration is 300 baud, 8 data bits, no parity and 1 stop bit. <code>B300-8N1</code> </dd></dl>

<p class="reference">References <a class="el" href="classpty.html#a757f8fc7156ea5215922e9646b65daaa">set_baud_rate()</a>, and <a class="el" href="classpty.html#acacb920c29edf75bc85388b4e347aa4e">setup()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpty_a50aec75ef08fc8368e6a3668821309cb_cgraph.png" border="0" usemap="#aclasspty_a50aec75ef08fc8368e6a3668821309cb_cgraph" alt=""/></div>
<map name="aclasspty_a50aec75ef08fc8368e6a3668821309cb_cgraph" id="aclasspty_a50aec75ef08fc8368e6a3668821309cb_cgraph">
<area shape="rect" title="Open the PTY interface." alt="" coords="5,31,88,57"/>
<area shape="rect" href="classpty.html#a757f8fc7156ea5215922e9646b65daaa" title="Set the baud rate of the PTY interface." alt="" coords="136,5,279,32"/>
<area shape="rect" href="classpty.html#acacb920c29edf75bc85388b4e347aa4e" title="Setup the PTY interface with custom configuration." alt="" coords="164,56,251,83"/>
</map>
</div>

</div>
</div>
<a id="a9ad90a7e8c2e8a1b273b4f5859cae35c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad90a7e8c2e8a1b273b4f5859cae35c">&#9670;&nbsp;</a></span>poll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pty::poll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if there is data available to be read from the PTY interface master side. </p>
<dl class="section return"><dt>Returns</dt><dd>Whether there is data available to be read. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">&lt;tt&gt;std::runtime_error&lt;/tt&gt;</td><td>if the PTY interface had an error.</td></tr>
  </table>
  </dd>
</dl>
<p>This method polls the PTY interface master side to check if there is data available to be read. It's handling the master PTY fd internally using <code>epoll</code>. </p>

<p class="reference">Referenced by <a class="el" href="classserial__card.html#a2d9f292d7be1f9deebf49fa5d748c039">serial_card::refresh()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpty_a9ad90a7e8c2e8a1b273b4f5859cae35c_icgraph.png" border="0" usemap="#aclasspty_a9ad90a7e8c2e8a1b273b4f5859cae35c_icgraph" alt=""/></div>
<map name="aclasspty_a9ad90a7e8c2e8a1b273b4f5859cae35c_icgraph" id="aclasspty_a9ad90a7e8c2e8a1b273b4f5859cae35c_icgraph">
<area shape="rect" title="Check if there is data available to be read from the PTY interface master side." alt="" coords="200,5,275,32"/>
<area shape="rect" href="classserial__card.html#a2d9f292d7be1f9deebf49fa5d748c039" title="Refresh the UART for data I/O." alt="" coords="5,5,152,32"/>
</map>
</div>

</div>
</div>
<a id="ac9e7847a4ade52e8bea78e13f49c4c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9e7847a4ade52e8bea78e13f49c4c76">&#9670;&nbsp;</a></span>putch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pty::putch </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a single byte to the PTY interface master side. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The byte to be sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">&lt;tt&gt;std::runtime_error&lt;/tt&gt;</td><td>if the PTY interface had an error.</td></tr>
  </table>
  </dd>
</dl>
<p>This method sends a single byte/char to the PTY interface master side. It uses the <code>write()</code> system call.</p>
<dl class="section warning"><dt>Warning</dt><dd>This method will block until the byte is sent. </dd></dl>

<p class="reference">Referenced by <a class="el" href="classpty.html#af46ce3f92e8dc2077afec7a54c6b85b0">getch()</a>, and <a class="el" href="classserial__card.html#a2d9f292d7be1f9deebf49fa5d748c039">serial_card::refresh()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpty_ac9e7847a4ade52e8bea78e13f49c4c76_icgraph.png" border="0" usemap="#aclasspty_ac9e7847a4ade52e8bea78e13f49c4c76_icgraph" alt=""/></div>
<map name="aclasspty_ac9e7847a4ade52e8bea78e13f49c4c76_icgraph" id="aclasspty_ac9e7847a4ade52e8bea78e13f49c4c76_icgraph">
<area shape="rect" title="Send a single byte to the PTY interface master side." alt="" coords="335,31,421,57"/>
<area shape="rect" href="classpty.html#af46ce3f92e8dc2077afec7a54c6b85b0" title="Get a single byte from the PTY interface master side." alt="" coords="200,5,287,32"/>
<area shape="rect" href="classserial__card.html#a2d9f292d7be1f9deebf49fa5d748c039" title="Refresh the UART for data I/O." alt="" coords="5,56,152,83"/>
<area shape="rect" href="classpty.html#a22e150200a8581e9da66e309f9ee2ec6" title="Receive data from the PTY interface master side." alt="" coords="39,5,118,32"/>
</map>
</div>

</div>
</div>
<a id="a22e150200a8581e9da66e309f9ee2ec6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22e150200a8581e9da66e309f9ee2ec6">&#9670;&nbsp;</a></span>recv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pty::recv </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">usize&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>terminator</em> = <code>'\r'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive data from the PTY interface master side. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>A pointer to the buffer where the data will be stored. </td></tr>
    <tr><td class="paramname">max</td><td>The amount of bytes to be read, usually the size of the buffer. </td></tr>
    <tr><td class="paramname">terminator</td><td>The character that will stop the reading. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">&lt;tt&gt;std::runtime_error&lt;/tt&gt;</td><td>if the PTY interface had an error. </td></tr>
    <tr><td class="paramname">&lt;tt&gt;std::invalid_argument&lt;/tt&gt;</td><td>if <code>max</code> is 0.</td></tr>
  </table>
  </dd>
</dl>
<p>This method reads data from the PTY interface master side. It will read up to <code>max - 1</code> bytes, until the terminator character is found. The received data is always null-terminated by this method, thus <code>max</code> is actually considered as <code>max - 1</code> for the amount of bytes to be read, with the last byte being reserved for the null-terminator, should data fit the entire buffer.</p>
<dl class="section note"><dt>Note</dt><dd>If <code>max</code> is 1, the method is a wrapper to <code><a class="el" href="classpty.html#af46ce3f92e8dc2077afec7a54c6b85b0" title="Get a single byte from the PTY interface master side.">getch()</a></code> and will not null-terminate the buffer. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This method will block until <code>max - 1</code> bytes are read or the terminator character is found. </dd></dl>

<p class="reference">References <a class="el" href="classpty.html#af46ce3f92e8dc2077afec7a54c6b85b0">getch()</a>, and <a class="el" href="classpty.html#a42411f2b12218401f748cbc94fe12062">send()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpty_a22e150200a8581e9da66e309f9ee2ec6_cgraph.png" border="0" usemap="#aclasspty_a22e150200a8581e9da66e309f9ee2ec6_cgraph" alt=""/></div>
<map name="aclasspty_a22e150200a8581e9da66e309f9ee2ec6_cgraph" id="aclasspty_a22e150200a8581e9da66e309f9ee2ec6_cgraph">
<area shape="rect" title="Receive data from the PTY interface master side." alt="" coords="5,31,84,57"/>
<area shape="rect" href="classpty.html#af46ce3f92e8dc2077afec7a54c6b85b0" title="Get a single byte from the PTY interface master side." alt="" coords="132,5,219,32"/>
<area shape="rect" href="classpty.html#a42411f2b12218401f748cbc94fe12062" title="Send data to the PTY interface master side." alt="" coords="135,56,216,83"/>
<area shape="rect" href="classpty.html#ac9e7847a4ade52e8bea78e13f49c4c76" title="Send a single byte to the PTY interface master side." alt="" coords="267,5,353,32"/>
</map>
</div>

</div>
</div>
<a id="a42411f2b12218401f748cbc94fe12062"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42411f2b12218401f748cbc94fe12062">&#9670;&nbsp;</a></span>send() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pty::send </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send data to the PTY interface master side. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>A pointer to the data to be sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">&lt;tt&gt;std::runtime_error&lt;/tt&gt;</td><td>if the PTY interface had an error.</td></tr>
  </table>
  </dd>
</dl>
<p>This method is a wrapper around the <code>send(const char* data, usize size)</code> method, where size simply is provided by the length of the passed string using <code>std::strlen()</code>.</p>
<dl class="section warning"><dt>Warning</dt><dd>This method will block until all bytes of data are sent. </dd></dl>

<p class="reference">Referenced by <a class="el" href="classpty.html#a22e150200a8581e9da66e309f9ee2ec6">recv()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpty_a42411f2b12218401f748cbc94fe12062_icgraph.png" border="0" usemap="#aclasspty_a42411f2b12218401f748cbc94fe12062_icgraph" alt=""/></div>
<map name="aclasspty_a42411f2b12218401f748cbc94fe12062_icgraph" id="aclasspty_a42411f2b12218401f748cbc94fe12062_icgraph">
<area shape="rect" title="Send data to the PTY interface master side." alt="" coords="132,5,213,32"/>
<area shape="rect" href="classpty.html#a22e150200a8581e9da66e309f9ee2ec6" title="Receive data from the PTY interface master side." alt="" coords="5,5,84,32"/>
</map>
</div>

</div>
</div>
<a id="afde0990ca2d8300af613c1bf15836ac6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afde0990ca2d8300af613c1bf15836ac6">&#9670;&nbsp;</a></span>send() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pty::send </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">usize&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send data to the PTY interface master side. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>A pointer to the data to be sent. </td></tr>
    <tr><td class="paramname">size</td><td>The amount of bytes to be sent starting from data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">&lt;tt&gt;std::runtime_error&lt;/tt&gt;</td><td>if the PTY interface had an error.</td></tr>
  </table>
  </dd>
</dl>
<p>This method sends data to the PTY interface master side. The slave side will be able to receive this data in order. It uses the <code>write()</code> system call to send the data to the master file descriptor.</p>
<dl class="section warning"><dt>Warning</dt><dd>This method will block until <code>size</code> bytes are sent. </dd></dl>

</div>
</div>
<a id="ae60caccd262899cddaa62ebeda9ca14d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae60caccd262899cddaa62ebeda9ca14d">&#9670;&nbsp;</a></span>send_break()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pty::send_break </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a break signal to the PTY interface master side. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">&lt;tt&gt;std::runtime_error&lt;/tt&gt;</td><td>if the PTY interface had an error.</td></tr>
  </table>
  </dd>
</dl>
<p>This method sends a break signal to the PTY interface master side. It uses the <code>tcsendbreak()</code> system call to make the pseudo-terminal interface run a break signal.</p>
<p>Sending a break signal effectively holds the transmission line low for a considerable amount of time, with no concern for framing or data bits, which is a step further than simply sending 0x00 over and over. </p>

</div>
</div>
<a id="a757f8fc7156ea5215922e9646b65daaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a757f8fc7156ea5215922e9646b65daaa">&#9670;&nbsp;</a></span>set_baud_rate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pty::set_baud_rate </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>baud_rate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the baud rate of the PTY interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baud_rate</td><td>The baud rate to be set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">&lt;tt&gt;std::runtime_error&lt;/tt&gt;</td><td>if the PTY interface could not be configured.</td></tr>
  </table>
  </dd>
</dl>
<p>This method sets the baud rate of the PTY interface. It uses the <code>cfsetospeed()</code> and <code>cfsetispeed()</code> functions from <code>termios.h</code> to set the baud rate of the PTY interface. </p>

<p class="reference">Referenced by <a class="el" href="classpty.html#a50aec75ef08fc8368e6a3668821309cb">open()</a>, and <a class="el" href="classserial__card.html#a87b17dad886b8847836ebd214c3c14ad">serial_card::write()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpty_a757f8fc7156ea5215922e9646b65daaa_icgraph.png" border="0" usemap="#aclasspty_a757f8fc7156ea5215922e9646b65daaa_icgraph" alt=""/></div>
<map name="aclasspty_a757f8fc7156ea5215922e9646b65daaa_icgraph" id="aclasspty_a757f8fc7156ea5215922e9646b65daaa_icgraph">
<area shape="rect" title="Set the baud rate of the PTY interface." alt="" coords="371,31,513,57"/>
<area shape="rect" href="classpty.html#a50aec75ef08fc8368e6a3668821309cb" title="Open the PTY interface." alt="" coords="214,5,297,32"/>
<area shape="rect" href="classserial__card.html#a87b17dad886b8847836ebd214c3c14ad" title="Write a byte to the serial registers." alt="" coords="188,56,323,83"/>
<area shape="rect" href="classserial__card.html#a692446f7540c8ae4601737bdf2833ebf" title="Write a byte to the card regardless of write lock." alt="" coords="5,49,140,90"/>
</map>
</div>

</div>
</div>
<a id="a361a2ef0fc27c6c1f2aac8e05aa0f89c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a361a2ef0fc27c6c1f2aac8e05aa0f89c">&#9670;&nbsp;</a></span>set_echo_received_back()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pty::set_echo_received_back </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>should</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether received data should be printed back to the PTY slave side. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">should</td><td>Whether received data should be echoed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acacb920c29edf75bc85388b4e347aa4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acacb920c29edf75bc85388b4e347aa4e">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pty::setup </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>data_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pty_parity&#160;</td>
          <td class="paramname"><em>parity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>stop_bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup the PTY interface with custom configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data_bits</td><td>The amount of data bits to be used. </td></tr>
    <tr><td class="paramname">parity</td><td>The parity mode to be used. </td></tr>
    <tr><td class="paramname">stop_bits</td><td>The amount of stop bits to be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">&lt;tt&gt;std::runtime_error&lt;/tt&gt;</td><td>if the PTY interface could not be configured. </td></tr>
    <tr><td class="paramname">&lt;tt&gt;std::invalid_argument&lt;/tt&gt;</td><td>if an invalid setup was being configured.</td></tr>
  </table>
  </dd>
</dl>
<p>This method sets up the PTY interface with custom configuration. Internally, this makes extensive use of <code>termios.h</code> functionality and its functions to configure the PTY interface. </p>

<p class="reference">Referenced by <a class="el" href="classpty.html#a50aec75ef08fc8368e6a3668821309cb">open()</a>, and <a class="el" href="classserial__card.html#a87b17dad886b8847836ebd214c3c14ad">serial_card::write()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpty_acacb920c29edf75bc85388b4e347aa4e_icgraph.png" border="0" usemap="#aclasspty_acacb920c29edf75bc85388b4e347aa4e_icgraph" alt=""/></div>
<map name="aclasspty_acacb920c29edf75bc85388b4e347aa4e_icgraph" id="aclasspty_acacb920c29edf75bc85388b4e347aa4e_icgraph">
<area shape="rect" title="Setup the PTY interface with custom configuration." alt="" coords="371,31,457,57"/>
<area shape="rect" href="classpty.html#a50aec75ef08fc8368e6a3668821309cb" title="Open the PTY interface." alt="" coords="214,5,297,32"/>
<area shape="rect" href="classserial__card.html#a87b17dad886b8847836ebd214c3c14ad" title="Write a byte to the serial registers." alt="" coords="188,56,323,83"/>
<area shape="rect" href="classserial__card.html#a692446f7540c8ae4601737bdf2833ebf" title="Write a byte to the card regardless of write lock." alt="" coords="5,49,140,90"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/core/iface/<a class="el" href="unix__pty_8hpp_source.html">unix_pty.hpp</a></li>
<li>src/core/iface/unix_pty.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classpty.html">pty</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
